/* ===== RESET ===== */
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color:#f44336; color:#333; }

/* ===== LOGIN ===== */
body.login-page { background-color:#f44336; }
.login-container { display:flex; justify-content:center; align-items:center; height:100vh; padding:1rem; }
.login-card { background-color:#f8f2e1; text-align:center; width:320px; color:#333; border-radius:10px; padding:20px; box-shadow:0 4px 10px rgba(0,0,0,0.2); }
.logo { width:100px; margin:10px 0 15px; }
.input-group { position:relative; width:100%; }
input { width:80%; padding:10px; margin:8px 0; border:none; border-radius:5px; font-size:15px; outline:none; }
.check { position:absolute; right:30px; top:16px; color:#4caf50; display:none; }
.btn { width:85%; padding:10px; background-color:#ff9800; color:white; border:none; border-radius:5px; font-size:16px; cursor:pointer; transition:0.3s; margin:8px; }
.btn:hover { background-color:#e68900; }
.btn:disabled { background-color:#ccc; cursor:not-allowed; }
.forgot { color:#2196f3; text-decoration:none; display:block; margin-top:10px; }
.error { color:#fff; background:#e53935; font-size:14px; padding:8px; margin:10px; border-radius:5px; display:none; }
.terms { font-size:10px; color:#333; margin-top:10px; }

/* ===== DASHBOARD ===== */
body.dashboard { display:flex; height:100vh; background:#f5f7fb; overflow-x:hidden; }
.sidebar { width:250px; background:#1b263b; color:#fff; display:flex; flex-direction:column; padding:1rem; position:fixed; left:0; top:0; bottom:0; transition:0.3s ease; z-index:1000; overflow-y:auto; }
.sidebar-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem; }
.sidebar h2 { font-size:1.8rem; margin:0; }
.close-btn { background:transparent; border:none; color:white; font-size:1.5rem; cursor:pointer; display:none; }
.sidebar ul.menu { list-style:none; padding:0; margin-top:1.5rem; flex-grow:1; }
.sidebar ul.menu li { margin:10px 0; position:relative; }
.sidebar ul.menu li a { display:block; color:#d1d1d1; text-decoration:none; padding:10px; border-radius:8px; transition:0.3s; }
.sidebar ul.menu li a:hover { background:#415a77; color:#fff; }
.submenu { display:none; list-style:none; padding-left:20px; }
.menu li.open .submenu { display:block; }
.submenu li a { font-size:0.9rem; color:#c0c0c0; }
.submenu li a:hover { background-color:#324c6d; }

.user-info { 
  background:#0d1b2a; 
  padding:10px; 
  border-radius:8px; 
  margin-bottom:10px; 
  text-align:center; 
}
.user-info p { margin:5px 0; }

#logout { 
  background:#e63946; 
  color:white; 
  border:none; 
  padding:10px; 
  border-radius:8px; 
  cursor:pointer; 
  width:100%; 
  transition:0.3s; 
  font-size:15px;
  font-weight:600;
}
#logout:hover { background:#d62828; }

.main-content { flex:1; margin-left:250px; padding:2rem; transition:0.3s; overflow-y:auto; }
.content { margin-top:20px; }
.menu-btn { display:none; background:#1b263b; color:white; border:none; padding:10px 15px; border-radius:6px; font-size:1.3rem; cursor:pointer; margin-bottom:10px; }
.card { background:white; border-radius:10px; box-shadow:0 3px 10px rgba(0,0,0,0.1); padding:1.5rem; margin-bottom:20px; }

/* ===== DASHBOARD STATS ===== */
.dashboard-stats { 
  display:grid; 
  grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); 
  gap:20px; 
  margin-bottom:20px; 
}
.stat-card { 
  background:white; 
  padding:20px; 
  border-radius:10px; 
  box-shadow:0 3px 10px rgba(0,0,0,0.1); 
  text-align:center;
  transition:transform 0.2s;
}
.stat-card:hover { transform:translateY(-5px); }
.stat-card h3 { 
  font-size:1rem; 
  color:#666; 
  margin-bottom:10px; 
}
.stat-number { 
  font-size:2.5rem; 
  font-weight:bold; 
  color:#1b263b; 
  margin:0;
}

/* ===== FORMULARIO ===== */
.form-card { max-width:600px; margin:20px auto; background:#fff; border-radius:10px; padding:25px; box-shadow:0 3px 10px rgba(0,0,0,0.1); }
.formulario { display:flex; flex-direction:column; gap:15px; margin-top:15px; }
.form-row { display:grid; grid-template-columns:1fr 1fr; gap:15px; }
.form-group { display:flex; flex-direction:column; }
.form-group label { font-weight:600; margin-bottom:5px; color:#333; }
.form-group input, .form-group select, .form-group textarea { 
  width:100%; 
  padding:10px 12px; 
  border:1px solid #ccc; 
  border-radius:8px; 
  font-size:15px; 
  outline:none; 
  transition:border-color 0.3s, box-shadow 0.3s; 
  background-color:#fff; 
  font-family:inherit;
}
.form-group textarea { min-height:80px; resize:vertical; }
.form-group input:focus, .form-group select:focus, .form-group textarea:focus { 
  border-color:#4a90e2; 
  box-shadow:0 0 5px rgba(74,144,226,0.3); 
}
.btn-guardar { 
  background-color:#4a90e2; 
  color:white; 
  font-size:16px; 
  font-weight:600; 
  padding:12px; 
  border:none; 
  border-radius:10px; 
  cursor:pointer; 
  transition:background 0.3s; 
}
.btn-guardar:hover { background-color:#357ab7; }
.btn-guardar:disabled { background-color:#ccc; cursor:not-allowed; }

/* ===== NOTIFICACIÓN ===== */
.notification { 
  position:fixed; 
  bottom:20px; 
  right:20px; 
  padding:15px 25px; 
  border-radius:8px; 
  box-shadow:0 3px 8px rgba(0,0,0,0.2); 
  font-weight:600; 
  opacity:1; 
  transition:opacity 0.5s; 
  z-index:9999;
  animation: slideIn 0.3s ease-out;
}
.notification.success { background:#4caf50; color:#fff; }
.notification.error { background:#e63946; color:#fff; }
.notification.warning { background:#ff9800; color:#fff; }

@keyframes slideIn {
  from { transform:translateX(400px); opacity:0; }
  to { transform:translateX(0); opacity:1; }
}

/* ===== FILTROS ===== */
.filters { 
  display:flex; 
  gap:10px; 
  margin-bottom:15px; 
  flex-wrap:wrap;
}
.filters input, .filters select { 
  padding:8px 12px; 
  border:1px solid #ccc; 
  border-radius:6px; 
  font-size:14px;
  flex:1;
  min-width:150px;
}
.btn-refresh {
  background:#4a90e2;
  color:white;
  border:none;
  padding:8px 15px;
  border-radius:6px;
  cursor:pointer;
  font-size:14px;
  transition:background 0.3s;
}
.btn-refresh:hover { background:#357ab7; }

/* ===== TABLA DE PRODUCTOS ===== */
.table-container { overflow-x:auto; }
#productosTable { 
  width:100%; 
  border-collapse:collapse; 
  margin-top:10px; 
  background:white;
  border-radius:8px;
  overflow:hidden;
}
#productosTable th, #productosTable td { 
  padding:12px; 
  border:1px solid #e0e0e0; 
  text-align:left; 
}
#productosTable th { 
  background-color:#1b263b; 
  color:white; 
  font-weight:600;
  position:sticky;
  top:0;
  z-index:10;
}
#productosTable tbody tr { transition:background 0.2s; }
#productosTable tbody tr:nth-child(even) { background-color:#f9f9f9; }
#productosTable tbody tr:hover { background-color:#e8f4fd; }

/* ===== SELECT BOX ===== */
.select-box { 
  width:20px; 
  height:20px; 
  border:2px solid #4a90e2; 
  border-radius:4px; 
  cursor:pointer; 
  display:inline-block; 
  vertical-align:middle; 
  position:relative; 
}
.select-box.selected::after { 
  content:'✔'; 
  position:absolute; 
  top:-2px; 
  left:2px; 
  color:#4a90e2; 
  font-weight:bold; 
  font-size:14px; 
}

/* ===== FILA SELECCIONADA ===== */
tr.selected { background-color:#cce0ff !important; }

/* ===== BOTONES ACCIONES ===== */
.acciones { margin-bottom:15px; display:flex; gap:10px; flex-wrap:wrap; }
.acciones button { 
  background-color:#4a90e2; 
  color:white; 
  border:none; 
  padding:10px 15px; 
  border-radius:6px; 
  cursor:pointer; 
  font-size:14px; 
  transition:background 0.3s;
  font-weight:500;
}
.acciones button:hover { background-color:#357ab7; }
.acciones button:disabled { background-color:#ccc; cursor:not-allowed; }

/* ===== BADGES ===== */
.badge {
  display:inline-block;
  padding:4px 10px;
  border-radius:12px;
  font-size:12px;
  font-weight:600;
}
.badge.success { background:#d4edda; color:#155724; }
.badge.warning { background:#fff3cd; color:#856404; }
.badge.danger { background:#f8d7da; color:#721c24; }

/* ===== LOADING ===== */
.loading {
  display:inline-block;
  width:20px;
  height:20px;
  border:3px solid #f3f3f3;
  border-top:3px solid #4a90e2;
  border-radius:50%;
  animation:spin 1s linear infinite;
}

/* ===== BOTÓN DE ACCIÓN ===== */
.btn-action {
  background-color:#4a90e2;
  color:white;
  padding:10px 20px;
  border-radius:6px;
  text-decoration:none;
  display:inline-block;
  font-weight:600;
  transition:background 0.3s;
  border:none;
  cursor:pointer;
}
.btn-action:hover {
  background-color:#357ab7;
}

/* ===== CARD DE FILTROS ===== */
.filters-card {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  background: white;
  margin-bottom: 20px;
}

.filters-header {
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid #368ff5;
}

.filters-header h3 {
  margin: 0;
  color: #1b263b;
  font-size: 1.3rem;
  display: flex;
  align-items: center;
  gap: 10px;
}

/* ===== FILTROS EN GRID MEJORADO ===== */
.filters-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.filter-group label {
  font-weight: 600;
  font-size: 0.9rem;
  color: #333;
  display: flex;
  align-items: center;
  gap: 6px;
}

.filter-icon {
  font-size: 1rem;
  
}

/* ===== INPUTS Y SELECTS MEJORADOS ===== */
.filter-input,
.filter-select {
  width: 100%;
  padding: 12px 15px;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  font-size: 15px;
  font-family: inherit;
  background-color: #fafafa;
  transition: all 0.3s ease;
  outline: none;
}

.filter-input:focus,
.filter-select:focus {
  border-color: #4a90e2;
  background-color: #fff;
  box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
  transform: translateY(-1px);
}

.filter-input:hover,
.filter-select:hover {
  border-color: #4a90e2;
  background-color: #fff;
}

.filter-input::placeholder {
  color: #999;
  font-style: italic;
}

/* ===== ACCIONES DE FILTROS ===== */
.filter-actions {
  display: flex;
  gap: 12px;
  padding-top: 15px;
  border-top: 2px solid #f0f0f0;
}

.btn-filter, 
.btn-filter-secondary {
  padding: 12px 24px;
  border: none;
  border-radius: 8px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  position: relative;
  overflow: hidden;
}

.btn-icon {
  font-size: 1.1rem;
  display: inline-block;
  transition: transform 0.3s ease;
}

.btn-filter {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  background: #4a90e2;
  color: white;
  box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
}

.btn-filter:hover {
  background: #357ab7;
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
}

.btn-filter:hover .btn-icon {
  transform: rotate(180deg);
}

.btn-filter:active {
  transform: translateY(0);
}

.btn-filter-secondary {
  background: #f5f5f5;
  color: #666;
  border: 2px solid #e0e0e0;
}

.btn-filter-secondary:hover {
  background: #e8e8e8;
  border-color: #ccc;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.btn-filter-secondary:hover .btn-icon {
  transform: scale(1.2);
}

/* ===== ESTILOS PARA FECHAS ===== */
input[type="date"] {
  cursor: pointer;
  position: relative;
}

input[type="date"]::-webkit-calendar-picker-indicator {
  cursor: pointer;
  filter: opacity(0.6);
  transition: filter 0.3s;
}

input[type="date"]:hover::-webkit-calendar-picker-indicator {
  filter: opacity(1);
}

/* ===== MEJORAS RESPONSIVE ===== */
@media(max-width: 900px) {
  .filters-grid {
    grid-template-columns: 1fr 1fr;
  }
  
  .filter-actions {
    grid-column: 1 / -1;
  }
}

@media(max-width: 600px) {
  .filters-grid {
    grid-template-columns: 1fr;
  }
  
  .filter-actions {
    flex-direction: column;
  }
  
  .btn-filter,
  .btn-filter-secondary {
    width: 100%;
  }
}

/* ===== FORMULARIO DE MOVIMIENTOS MEJORADO ===== */
.form-header {
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 2px solid #f0f0f0;
}

.form-header h2 {
  margin: 0;
  color: #1b263b;
  display: flex;
  align-items: center;
  gap: 10px;
}

.required-star {
  color: #e63946;
  font-weight: bold;
  margin-right: 5px;
}

/* ===== CARD DE INFORMACIÓN DEL PRODUCTO ===== */
.producto-info-card {
  background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
  border-left: 4px solid #4a90e2;
  padding: 15px;
  border-radius: 8px;
  margin: 15px 0;
}

.info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.info-item {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.info-label {
  font-size: 0.85rem;
  color: #666;
  font-weight: 600;
}

.info-value {
  font-size: 1rem;
  color: #1b263b;
  font-weight: bold;
}

/* ===== HELPER DE INPUT ===== */
.input-helper {
  position: absolute;
  right: 15px;
  top: 50%;
  transform: translateY(-50%);
  font-weight: bold;
  font-size: 1.2rem;
}

.warning-text {
  color: #e63946;
  font-weight: 600;
  display: block;
  margin-top: 5px;
}

/* ===== VISTA PREVIA DEL RESULTADO ===== */
.resultado-preview {
  background: #f8f9fa;
  border: 2px dashed #4a90e2;
  border-radius: 8px;
  padding: 15px;
  margin: 15px 0;
}

.preview-header {
  font-weight: 600;
  color: #1b263b;
  margin-bottom: 10px;
  font-size: 0.95rem;
}

.preview-content {
  display: flex;
  align-items: center;
  justify-content: space-around;
  flex-wrap: wrap;
  gap: 15px;
}

.preview-item {
  text-align: center;
}

.preview-item span {
  display: block;
  font-size: 0.85rem;
  color: #666;
  margin-bottom: 5px;
}

.preview-item strong {
  font-size: 1.5rem;
  color: #1b263b;
}

.preview-arrow {
  font-size: 2rem;
  color: #4a90e2;
  font-weight: bold;
}

.preview-final {
  font-size: 1.8rem !important;
}

/* ===== CARDS INFORMATIVOS ===== */
.info-card {
  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
  border-left: 4px solid #2196f3;
}

.tips-card {
  background: linear-gradient(135deg, #fff9e6 0%, #ffe9a3 100%);
  border-left: 4px solid #ffc107;
}

/* ===== BOTONES DE ACCIÓN ===== */
.form-actions {
  display: flex;
  gap: 15px;
  margin-top: 25px;
}

.btn-submit,
.btn-cancel {
  flex: 1;
  padding: 14px 20px;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  text-decoration: none;
}

.btn-submit {
  background: #4a90e2;
  color: white;
  box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
}

.btn-submit:hover {
  background: #357ab7;
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(74, 144, 226, 0.4);
}

.btn-cancel {
  background: #f5f5f5;
  color: #666;
  border: 2px solid #e0e0e0;
}

.btn-cancel:hover {
  background: #e8e8e8;
  border-color: #ccc;
  transform: translateY(-2px);
}

/* ===== RESPONSIVE ===== */
@media(max-width: 768px) {
  .info-grid {
    grid-template-columns: 1fr 1fr;
  }
  
  .preview-content {
    flex-direction: column;
  }
  
  .preview-arrow {
    transform: rotate(90deg);
  }
  
  .form-actions {
    flex-direction: column;
  }
}

/* ===== HEADER DE TABLA ===== */
.table-header {
  margin-bottom: 15px;
  padding-bottom: 10px;
  border-bottom: 2px solid #368ff5;
}

.table-header h3 {
  margin: 0;
  color: #1b263b;
  font-size: 1.3rem;
}

.table-footer {
  margin-top: 15px;
  padding-top: 10px;
  border-top: 1px solid #e0e0e0;
  text-align: center;
}

/* ===== FILAS DE TABLA CON COLOR ===== */
.row-entrada {
  background-color: #f1f8f4 !important;
}

.row-entrada:hover {
  background-color: #e8f5e9 !important;
}

.row-salida {
  background-color: #fef5f5 !important;
}

.row-salida:hover {
  background-color: #ffebee !important;
}

/* ===== MEJORAS RESPONSIVE ===== */
@media(max-width: 900px) {
  .filters-grid {
    grid-template-columns: 1fr;
  }
  
  .filter-actions {
    grid-column: 1 / -1;
  }
}

@media(max-width: 768px) {
  #movimientosTable th:nth-child(1),
  #movimientosTable td:nth-child(1) {
    display: none; /* Ocultar ID en móvil */
  }
  
  #movimientosTable th:nth-child(7),
  #movimientosTable td:nth-child(7) {
    display: none; /* Ocultar descripción en móvil */
  }
  
  .dashboard-stats {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media(max-width: 480px) {
  #movimientosTable th:nth-child(6),
  #movimientosTable td:nth-child(6) {
    display: none; /* Ocultar usuario en móviles pequeños */
  }
  
  .dashboard-stats {
    grid-template-columns: 1fr;
  }
}

/* ===== TABLA RESPONSIVE ===== */
@media(max-width:768px){
  #movimientosTable th, 
  #movimientosTable td {
    padding:8px;
    font-size:13px;
  }
  
  #movimientosTable th:nth-child(7),
  #movimientosTable td:nth-child(7) {
    display:none; /* Ocultar descripción en móvil */
  }
}

@keyframes spin {
  0% { transform:rotate(0deg); }
  100% { transform:rotate(360deg); }
}

/* ===== RESPONSIVE ===== */
@media(max-width:900px){ 
  .main-content{margin-left:0;} 
  .sidebar{left:-260px;} 
  .sidebar.active{left:0;} 
  .close-btn{display:block;} 
  .menu-btn{display:inline-block;} 
  .dashboard-stats { grid-template-columns:repeat(2, 1fr); }
}
@media(max-width:768px){ 
  .login-card{width:90%;padding:1rem;} 
  .logo{width:80px;} 
  input{width:90%;font-size:14px;} 
  .btn{width:90%;font-size:15px;} 
  .main-content{padding:1rem;} 
  .main-content header h1{font-size:1.3rem;} 
  .form-row { grid-template-columns:1fr; }
  .dashboard-stats { grid-template-columns:1fr; }
}
@media(max-width:480px){ 
  .login-card{width:95%;} 
  .sidebar{width:200px;} 
  .main-content header h1{font-size:1rem;} 
  #logout{font-size:14px;} 
  .stat-number { font-size:2rem; }
}